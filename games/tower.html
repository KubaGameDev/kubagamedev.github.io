<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Tower Builder</title>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
<link rel="stylesheet" href="../style.css">
<script src="../script.js" defer></script>
<script async defer data-domain="jumpkat.com" src="https://plausible.io/js/plausible.js"></script>
<style>canvas{background:var(--text-color);}</style>
</head>
<body>
<canvas id="particles"></canvas>
<header>
<a href="../index.html"><img src="../images/jumping-cat.svg" alt="Jumpkat" height="40" class="logo"></a>
<nav>
<a href="../index.html">Home</a>
<a href="../games/">Games</a>
<a href="../blog.html">Blog</a>
<a href="../contact.html">Contact</a>
</nav>
<div class="header-right">
<button class="theme-toggle" onclick="toggleTheme()">Flip</button>
<button id="stats-btn" onclick="toggleStats()">Hide Stats</button>
<span id="stats"></span>
</div>
</header>
<main>
<h1>Tower Builder</h1>
<canvas id="game" width="400" height="400"></canvas>
<p>Press space to drop blocks</p>
</main>
<footer><img src="../images/935CF301-8553-44E6-98FD-A0E992BEBD36.png" alt="Jumping Cat" class="footer-cat"></footer>
<script>
const c=document.getElementById('game');
const ctx=c.getContext('2d');
let armX=0,dir=1,blocks=[],current={x:0,y:20};
function draw(){
 ctx.fillStyle=getComputedStyle(document.documentElement).getPropertyValue('--bg-color');
 ctx.fillRect(0,0,400,400);
 ctx.fillStyle=getComputedStyle(document.documentElement).getPropertyValue('--text-color');
 ctx.fillRect(armX,0,40,20);
 blocks.forEach(b=>ctx.fillRect(b.x,b.y,40,20));
 if(current)ctx.fillRect(current.x,current.y,40,20);
}
function update(){
 armX+=dir*2;
 if(armX<0||armX>360)dir*=-1;
 if(current){current.y+=2;if(current.y>=380||blocks.some(b=>current.y+20>=b.y&&current.x<b.x+40&&current.x+40>b.x)){blocks.push({x:current.x,y:current.y-2});current=null;}}
 draw();
 requestAnimationFrame(update);
}
document.addEventListener('keydown',e=>{if(e.code==='Space'&&!current){current={x:armX,y:0};}});
update();
</script>
</body>
</html>
